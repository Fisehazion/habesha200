<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Habesha200 Admin</title>
  <link rel="icon" href="data:,">
  <script type="module">
    // Fixed: Use stable version 0.4.0 (no 404)
    import SveltiaCMS from 'https://cdn.jsdelivr.net/npm/sveltia-cms@0.4.0/dist/sveltia-cms.js';

    // Load config.yml from same folder
    fetch('/static/admin/config.yml')
      .then(res => res.text())
      .then(configText => {
        const config = YAML.parse(configText); // Built-in YAML parser

        SveltiaCMS({
          ...config, // Merge with fetched config
          i18n: { defaultLocale: 'en', locales: ['en'] },
          site_url: 'https://behabeshawikana.netlify.app',
          media: {
            folder: '/images/uploads',
            public_folder: '/images/uploads'
          },
          backend: {
            name: 'git-gateway',
            branch: 'main'
          }
        });
      })
      .catch(err => console.error('Config load failed:', err));
  </script>
  <script src="https://cdn.jsdelivr.net/npm/js-yaml@4.1.0/dist/js-yaml.min.js"></script> <!-- YAML parser -->
</head>
<body></body>
</html>